// Zone, State, District, Org - hierarchy / geography
// Models only; generator/datasource in schema.prisma

model Zone {
  zoneId    Int              @id @default(autoincrement()) @map("zone_id")
  zoneName  String           @unique @map("zone_name")
  districts DistrictMaster[]
  states    StateMaster[]
  users     User[]
  kvks      Kvk[]

  @@map("zone")
}

model StateMaster {
  stateId   Int              @id @default(autoincrement()) @map("state_id")
  stateName String           @map("state_name")
  zoneId    Int
  districts DistrictMaster[]
  orgs      OrgMaster[]
  zone      Zone             @relation(fields: [zoneId], references: [zoneId])
  users     User[]
  kvks      Kvk[]

  @@index([zoneId])
  @@index([stateName])
  @@map("stateMaster")
}

model DistrictMaster {
  districtId   Int         @id @default(autoincrement()) @map("district_id")
  districtName String      @map("district_name")
  stateId      Int
  zoneId       Int
  state        StateMaster @relation(fields: [stateId], references: [stateId])
  zone         Zone        @relation(fields: [zoneId], references: [zoneId])
  users        User[]
  kvks         Kvk[]

  @@index([stateId])
  @@index([zoneId])
  @@index([districtName])
  @@map("districtMaster")
}

model OrgMaster {
  orgId   Int         @id @default(autoincrement()) @map("org_id")
  uniName String      @map("uni_name")
  stateId Int
  state   StateMaster @relation(fields: [stateId], references: [stateId])
  users   User[]
  kvks    Kvk[]

  @@index([stateId])
  @@index([uniName])
  @@map("orgMaster")
}
